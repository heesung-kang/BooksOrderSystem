(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-30dfc1d5"],{"0866":function(t,s,e){"use strict";e("e08b")},"094a":function(t,s,e){"use strict";e("85d6")},"0fc4":function(t,s,e){},"29ea":function(t,s,e){"use strict";e("0fc4")},"85d6":function(t,s,e){},c890:function(t,s,e){"use strict";e.r(s);var a=e("ad87"),r=(e("14d9"),e("2f62")),i=e("e71f"),o=e("e31c"),h=e("f3e4"),c=e("1592"),n=e("78c6"),u={name:"List",props:["data","status"],data:()=>({dataInit:!1}),watch:{data(t){this.dataInit=t.some(t=>t.shop_order_status===this.status)}},mounted(){this.dataInit=this.data.some(t=>t.shop_order_status===this.status)},methods:{statement(t){this.$router.push(`/ReleaseStatus/${t.id}/${t.date}/${t.orderRealTimeId}/${t.publisher}`)}}},d=(e("0866"),e("2877")),l={name:"ReleaseList",components:{List:Object(d.a)(u,(function(){var t=this,s=t._self._c;return t.dataInit?s("table",{staticClass:"basic mb50"},[s("caption",[t._v("\n    출판사별 주문리스트\n  ")]),t._m(0),s("tbody",t._l(t.data,(function(e,a){return s("tr",{key:a,on:{click:function(s){return t.statement({id:e.sid,date:e.timestamp,orderRealTimeId:e.order_real_time_id,publisher:e.publisher})}}},[e.shop_order_status===t.status?s("td",[t._v(t._s(e.publisher))]):t._e(),e.shop_order_status===t.status?s("td",[e.shop_order_status<2?s("span",[t._v(t._s(e.count))]):s("span",[t._v(t._s(e.totalCount))])]):t._e(),e.shop_order_status===t.status?s("td",[t._v("\n        "+t._s(3===e.shop_order_status?"출고대기":4===e.shop_order_status?"출고":5===e.shop_order_status?"완료":"")+"\n      ")]):t._e(),e.shop_order_status===t.status?s("td",[t._v(t._s(e.orderrealtimestamp))]):t._e()])})),0)]):t._e()}),[function(){var t=this._self._c;return t("thead",[t("tr",[t("th",[this._v("출판사")]),t("th",[this._v("수량")]),t("th",[this._v("상태")]),t("th",[this._v("발주일시")])])])}],!1,null,"53720c59",null).exports,TableSkeleton:n.a},props:["searchObj"],data:()=>({books:[],result:[],searchResult:[]}),computed:{...Object(r.b)("common",["skeletonLoading"])},watch:{searchObj(){this.search()}},async created(){try{this.$store.commit("common/setSkeleton",!0);const{uid:t}=Object(h.b)("userInfo"),s=Object(i.k)(Object(i.b)(o.b,"orderRequest"),Object(i.p)("uid","==",t),Object(i.p)("shop_order_status",">=",2),Object(i.j)("shop_order_status","desc"),Object(i.j)("order_real_time_id","desc"));(await Object(i.g)(s)).forEach(t=>{const s=t.data();s.timestamp=this.$date(t.data().order_real_time.toDate()).format("YYYY-MM-DD HH:mm:ss"),s.searchTimestamp=this.$date(t.data().order_real_time.toDate()).format("YYYY-MM-DD"),s.count=parseInt(s.count),null===t.data().order_real_time?s.orderrealtimestamp="-":s.orderrealtimestamp=this.$date(t.data().order_real_time.toDate()).format("YYYY-MM-DD HH:mm:ss"),this.books.push(s)}),this.result=Object(c.a)(this.books),this.searchResult=this.searchResult.concat(this.result)}catch(t){console.log(t)}this.$store.commit("common/setSkeleton",!1)},methods:{search(){this.result=this.searchResult.filter(t=>{if(""===this.searchObj.publisher&&void 0===this.searchObj.startDate)return t;if(""===this.searchObj.publisher&&void 0!==this.searchObj.startDate){if(t.searchTimestamp>=this.searchObj.startDate&&t.searchTimestamp<=this.searchObj.endDate)return t}else if(""!==this.searchObj.publisher&&t.publisher.includes(this.searchObj.publisher)){if(void 0===this.searchObj.startDate)return t;if(t.searchTimestamp>=this.searchObj.startDate&&t.searchTimestamp<=this.searchObj.endDate)return t}})}}},_=(e("094a"),{components:{ReleaseList:Object(d.a)(l,(function(){var t=this._self._c;return t("section",[this.skeletonLoading?t("TableSkeleton"):t("div",[t("List",{attrs:{data:this.result,status:3}}),t("List",{attrs:{data:this.result,status:4}}),t("List",{attrs:{data:this.result,status:5}}),0===this.result.length?t("div",{staticClass:"none"},[this._v("리스트가 없습니다.")]):this._e()],1)],1)}),[],!1,null,"1769595d",null).exports,SearchDateRangeGroup:a.a},data:()=>({searchObj:{},itemList:[{item:"출판사",value:"publisher"}]}),methods:{search(t){this.searchObj=t}}}),m=(e("29ea"),Object(d.a)(_,(function(){var t=this._self._c;return t("section",[t("h2",{staticClass:"sub-title"},[this._v("출고 목록 보기")]),t("section",{staticClass:"sub-container"},[t("h3",[this._v("출판사별 출고 리스트")]),t("section",{staticClass:"mt10"},[t("SearchDateRangeGroup",{attrs:{itemList:this.itemList},on:{search:this.search}})],1),t("section",{staticClass:"mt30"},[t("ReleaseList",{attrs:{searchObj:this.searchObj}})],1)])])}),[],!1,null,"16b4cb55",null));s.default=m.exports},e08b:function(t,s,e){}}]);