(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-25c02488"],{"0385":function(t,e,s){},"1f0b":function(t,e,s){"use strict";var a=s("3129"),i={name:"BookListMobileSkeleton"},l=(s("f412"),s("2877")),o=Object(l.a)(i,(function(){var t=this._self._c;return t("div",[t("ul",[t("li",[t("section",{staticClass:"skeleton-book-list"},[t("div",{staticClass:"img"},[t(a.a,{attrs:{type:"list-item-avatar-two-line"}}),t(a.a,{attrs:{type:"text"}}),t(a.a,{attrs:{type:"text"}}),t(a.a,{attrs:{type:"text"}}),t(a.a,{attrs:{type:"text"}}),t(a.a,{attrs:{type:"text"}})],1)])]),t("li",[t("section",{staticClass:"skeleton-book-list"},[t("div",{staticClass:"img"},[t(a.a,{attrs:{type:"list-item-avatar-two-line"}}),t(a.a,{attrs:{type:"text"}}),t(a.a,{attrs:{type:"text"}}),t(a.a,{attrs:{type:"text"}}),t(a.a,{attrs:{type:"text"}}),t(a.a,{attrs:{type:"text"}})],1)])]),t("li",[t("section",{staticClass:"skeleton-book-list"},[t("div",{staticClass:"img"},[t(a.a,{attrs:{type:"list-item-avatar-two-line"}}),t(a.a,{attrs:{type:"text"}}),t(a.a,{attrs:{type:"text"}}),t(a.a,{attrs:{type:"text"}}),t(a.a,{attrs:{type:"text"}}),t(a.a,{attrs:{type:"text"}})],1)])]),t("li",[t("section",{staticClass:"skeleton-book-list"},[t("div",{staticClass:"img"},[t(a.a,{attrs:{type:"list-item-avatar-two-line"}}),t(a.a,{attrs:{type:"text"}}),t(a.a,{attrs:{type:"text"}}),t(a.a,{attrs:{type:"text"}}),t(a.a,{attrs:{type:"text"}}),t(a.a,{attrs:{type:"text"}})],1)])]),t("li",[t("section",{staticClass:"skeleton-book-list"},[t("div",{staticClass:"img"},[t(a.a,{attrs:{type:"list-item-avatar-two-line"}}),t(a.a,{attrs:{type:"text"}}),t(a.a,{attrs:{type:"text"}}),t(a.a,{attrs:{type:"text"}}),t(a.a,{attrs:{type:"text"}}),t(a.a,{attrs:{type:"text"}})],1)])])])])}),[],!1,null,"975c769e",null);e.a=o.exports},"2aa8":function(t,e,s){"use strict";s.r(e);var a=s("ac7c"),i=(s("14d9"),s("691b")),l=s("1f0b"),o=s("2f62"),c=s("f3e4"),r=s("e71f"),d=s("e31c"),n={components:{BookListMobileSkeleton:l.a,BookListSkeleton:i.a},props:["id","orderRealTimeId"],data:()=>({selected:[],books:[],selectedAll:!1,allID:[],completeAll:!1}),computed:{...Object(o.b)("common",["windowWidth","mobile","skeletonLoading"])},watch:{selected(){this.allID.length===this.selected.length?this.selectedAll=!0:this.selectedAll=!1},selectedAll(t){t?this.selected=this.allID:this.allID.length===this.selected.length&&(this.selected=[])}},created(){this.load()},methods:{async load(){try{this.books=[],this.allID=[],this.$store.commit("common/setSkeleton",!0);const{uid:t}=Object(c.b)("userInfo"),e=Object(r.j)(Object(r.b)(d.b,"orderRequest"),Object(r.o)("uid","==",t),Object(r.o)("sid","==",Number(this.id)),Object(r.o)("order_real_time_id","==",this.orderRealTimeId)),s=await Object(r.f)(e),a=[];s.forEach(t=>{const e=t.data();null!==t.data().release_time&&(e.timestamp=this.$date(t.data().release_time.toDate()).format("YY.MM.DD")),4===t.data().shop_order_status&&this.allID.push(t.id),a.push({id:t.id,data:e})}),this.books=a.filter(t=>{if(t.data.order_check)return t}),this.completeAll=!this.books.some(t=>4===t.data.shop_order_status)}catch(t){console.log(t)}this.$store.commit("common/setSkeleton",!1)},async complete(){if(0===this.selected.length)return void alert("수취완료할 상품을 체크해주세요");const t=Object(r.p)(d.b);try{this.$store.commit("common/setLoading",!0);const e=Object(r.k)();await this.selected.forEach(s=>{const a=Object(r.d)(d.b,"orderRequest",s);t.update(a,{shop_order_status:5,complete_time_id:this.$date().format("YYYYMMDDHHmmss"),complete_time:e})}),await t.commit(),await this.load()}catch(t){console.log(t)}this.$store.commit("common/setLoading",!1)}}},p=(s("eff1"),s("2877")),v={name:"OrderResult",components:{ReleaseStatusList:Object(p.a)(n,(function(){var t,e=this,s=e._self._c;return s("section",[!e.mobile&&e.skeletonLoading?s("BookListSkeleton"):e._e(),e.mobile&&e.skeletonLoading?s("BookListMobileSkeleton"):e._e(),e.mobile||e.skeletonLoading?e._e():s("section",{staticClass:"header d-flex"},[s("div",{staticClass:"d-flex dual"},[s("div",[e.completeAll?e._e():s(a.a,{model:{value:e.selectedAll,callback:function(t){e.selectedAll=t},expression:"selectedAll"}})],1),s("div",[e._v("품목정보")])]),s("div",[e._v("ISBN")]),s("div",[e._v("배본방식")]),s("div",[e._v("상태")]),s("div",[e._v("수량")])]),s("ul",{staticClass:"body"},e._l(e.books,(function(t,i){return s("li",{key:i,staticClass:"d-flex align-center"},[s("div",{staticClass:"d-flex align-center info-wrap"},[s("div",{staticClass:"ck-box"},[5===t.data.shop_order_status?s("span",[e._v("완료")]):e._e(),3===t.data.shop_order_status?s(a.a,{attrs:{disabled:""}}):e._e(),4===t.data.shop_order_status?s(a.a,{attrs:{value:t.id},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}):e._e()],1),s("div",{staticClass:"book-info"},[s("h3",[e._v(e._s(t.data.subject))]),s("div",{staticClass:"author"},[e._v(e._s(t.data.author))])])]),s("div",{staticClass:"isbn"},[e._v(e._s(t.data.isbn))]),s("div",{staticClass:"out-type"},[e.mobile?s("span",[e._v("배본 방식")]):e._e(),e._v(" "+e._s(t.data.distribution))]),s("div",{staticClass:"status"},[e.mobile?s("div",[e._v("상태")]):e._e(),s("div",[e._v(e._s(3===t.data.shop_order_status?"출고대기":4===t.data.shop_order_status?"출고":"완료"))]),null!==t.data.release_time_id?s("div",[e._v("("+e._s(t.data.timestamp)+")")]):e._e()]),s("div",{staticClass:"count"},[e.mobile?s("span",[e._v("수량")]):e._e(),e._v(" "+e._s(t.data.reply_count))])])})),0),(null===(t=e.books[0])||void 0===t?void 0:t.data.shop_order_status)>3?s("section",{staticClass:"btn mt24"},[e.completeAll?e._e():s("button",{staticClass:"primary",on:{click:e.complete}},[e._v("수취확인")])]):e._e()],1)}),[],!1,null,"0c382783",null).exports},data(){return{id:this.$route.params.id,date:this.$route.params.date,publisher:this.$route.params.publisher,orderRealTimeId:this.$route.params.orderRealTimeId}}},u=(s("af61"),Object(p.a)(v,(function(){var t=this,e=t._self._c;return e("section",[e("h2",{staticClass:"sub-title"},[t._v("출고 현황 보기")]),e("section",{staticClass:"sub-container"},[e("article",{staticClass:"order-info d-flex justify-space-between"},[e("div",[t._v("\n        출판사명: "),e("strong",[t._v(t._s(t.publisher))])]),e("div",[t._v("주문일자 : "+t._s(t.date))])]),e("ReleaseStatusList",{attrs:{id:t.id,orderRealTimeId:t.orderRealTimeId}})],1)])}),[],!1,null,"6ba5dbd6",null));e.default=u.exports},"691b":function(t,e,s){"use strict";var a=s("3129"),i={name:"BookListSkeleton"},l=(s("b57b"),s("2877")),o=Object(l.a)(i,(function(){var t=this._self._c;return t("div",[t("ul",[t("li",[t("section",{staticClass:"d-flex align-center justify-space-between skeleton-book-list"},[t("div",{staticClass:"img"},[t(a.a,{attrs:{type:"list-item-avatar-two-line"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1)])]),t("li",[t("section",{staticClass:"d-flex align-center justify-space-between skeleton-book-list"},[t("div",{staticClass:"img"},[t(a.a,{attrs:{type:"list-item-avatar-two-line"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1)])]),t("li",[t("section",{staticClass:"d-flex align-center justify-space-between skeleton-book-list"},[t("div",{staticClass:"img"},[t(a.a,{attrs:{type:"list-item-avatar-two-line"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1)])]),t("li",[t("section",{staticClass:"d-flex align-center justify-space-between skeleton-book-list"},[t("div",{staticClass:"img"},[t(a.a,{attrs:{type:"list-item-avatar-two-line"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1)])]),t("li",[t("section",{staticClass:"d-flex align-center justify-space-between skeleton-book-list"},[t("div",{staticClass:"img"},[t(a.a,{attrs:{type:"list-item-avatar-two-line"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(a.a,{attrs:{type:"text"}})],1)])])])])}),[],!1,null,"d8eeb990",null);e.a=o.exports},af61:function(t,e,s){"use strict";s("f497")},b57b:function(t,e,s){"use strict";s("da01")},c2fe:function(t,e,s){},da01:function(t,e,s){},eff1:function(t,e,s){"use strict";s("0385")},f412:function(t,e,s){"use strict";s("c2fe")},f497:function(t,e,s){}}]);