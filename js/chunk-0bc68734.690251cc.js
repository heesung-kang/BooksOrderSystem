(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0bc68734"],{4809:function(t,s,i){},"68e0":function(t,s,i){"use strict";i.d(s,"a",(function(){return e}));const e=function(t,s,i,e){return{name:t,width:s,height:i,resizable:e,clickToClose:!1,draggable:".popup-title",scrollable:!0}}},"70c9":function(t,s,i){"use strict";i("98f8")},7402:function(t,s,i){"use strict";var e=i("132d"),o={methods:{close(){this.$emit("close")}}},a=(i("cc0a"),i("2877")),n=Object(a.a)(o,(function(){var t=this._self._c;return t("div",{staticClass:"modal-wrap"},[t("div",{staticClass:"close",on:{click:this.close}},[t(e.a,[this._v("mdi-window-close")])],1),this._t("head"),t("div",{staticClass:"line"}),t("div",{staticClass:"body"},[this._t("body")],2),this._t("footer")],2)}),[],!1,null,"1c84da6b",null);s.a=n.exports},"98f8":function(t,s,i){},"99bd":function(t,s,i){"use strict";i.r(s);var e=i("2f62"),o=i("f3e4"),a=i("e71f"),n=i("e31c"),d=i("dfe2"),c=i("68e0"),l=i("ea7b"),r={name:"Distribution",data:()=>({infoModify:!1,uid:"",info:{},infoTemp:{},zip:""}),computed:{...Object(e.b)("common",["mobile"])},created(){const{uid:t}=Object(o.b)("userInfo");this.uid=t,this.load()},methods:{infoStatusChange(){this.infoModify=!0},cancel(){this.infoModify=!1,this.infoTemp=this.info},async load(){try{this.$store.commit("common/setLoading",!0);const t=Object(a.d)(n.b,"shopInfo",this.uid),s=await Object(a.f)(t);this.info=s.data(),this.infoTemp=s.data(),this.zip=s.data().zip}catch(t){console.log(t)}this.$store.commit("common/setLoading",!1)},async infoUpdate(){if(""!==this.infoTemp.shop)if(""!==this.infoTemp.shop)if(""!==this.infoTemp.address1)if(""!==this.infoTemp.address2){this.$store.commit("common/setLoading",!0),this.infoModify=!1,this.info=this.infoTemp;try{const t=Object(a.d)(n.b,"shopInfo",this.uid);await Object(a.o)(t,{shop:this.infoTemp.shop,zip:this.zip,address1:this.infoTemp.address1,address2:this.infoTemp.address2,email:this.infoTemp.email});const s=Object(l.c)(n.a);await Object(l.h)(s.currentUser,this.infoTemp.email).then(()=>{this.$store.commit("common/setLoading",!1)}).catch(t=>{this.$store.commit("common/setLoading",!1),console.log(t)}),await this.load()}catch(t){this.$store.commit("common/setLoading",!1),console.log(t)}}else alert("주소를 입력해주세요");else alert("주소를 입력해주세요");else alert("이메일(아이디)를 입력해주세요");else alert("출판사명을 입력해주세요")},showAddressModalPopup(){this.mobile?this.$modal.show(d.a,{updateZip:this.updateZip},Object(c.a)("AddressModal","95%","auto",!1)):this.$modal.show(d.a,{updateZip:this.updateZip},Object(c.a)("AddressModal","600px","auto",!1))},updateZip(t){this.infoTemp.address1=t.addr1,this.zip=t.zip}}},m=(i("70c9"),i("2877")),p={components:{Info:Object(m.a)(r,(function(){var t=this,s=t._self._c;return s("section",[s("h3",[t._v("서점 정보")]),s("table",{staticClass:"info-tbl mt5"},[t._m(0),s("tbody",[s("tr",[s("td",[t._v("서점명")]),s("td",[t.infoModify?s("input",{directives:[{name:"model",rawName:"v-model",value:t.infoTemp.shop,expression:"infoTemp.shop"}],staticClass:"basic",attrs:{type:"text"},domProps:{value:t.infoTemp.shop},on:{input:function(s){s.target.composing||t.$set(t.infoTemp,"shop",s.target.value)}}}):s("span",[t._v(t._s(t.info.shop))])])]),s("tr",[s("td",[t._v("아이디(이메일)")]),s("td",[t._v(t._s(t.info.email))])]),s("tr",[s("td",[t._v("주소")]),s("td",[t.infoModify?s("div",[s("div",[s("button",{staticClass:"basic xs",on:{click:t.showAddressModalPopup}},[t._v("주소찾기")])]),s("div",{staticClass:"mt5"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.infoTemp.address1,expression:"infoTemp.address1"}],staticClass:"basic",attrs:{type:"text",readonly:""},domProps:{value:t.infoTemp.address1},on:{input:function(s){s.target.composing||t.$set(t.infoTemp,"address1",s.target.value)}}})]),s("div",{staticClass:"mt5"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.infoTemp.address2,expression:"infoTemp.address2"}],staticClass:"basic",attrs:{type:"text"},domProps:{value:t.infoTemp.address2},on:{input:function(s){s.target.composing||t.$set(t.infoTemp,"address2",s.target.value)}}})])]):s("span",[t._v(t._s(t.info.address1)+" "+t._s(t.info.address2))])])])])]),s("section",[t.infoModify?s("div",{staticClass:"d-flex justify-end mt5"},[s("button",{staticClass:"basic mr5",on:{click:t.cancel}},[t._v("취소")]),s("button",{staticClass:"primary",on:{click:t.infoUpdate}},[t._v("확인")])]):s("div",{staticClass:"d-flex justify-end mt5"},[s("button",{staticClass:"primary",on:{click:t.infoStatusChange}},[t._v("수정")])])])])}),[function(){var t=this._self._c;return t("colgroup",[t("col",{attrs:{width:"100"}}),t("col",{attrs:{width:"*"}})])}],!1,null,"10633f81",null).exports}},h=Object(m.a)(p,(function(){var t=this._self._c;return t("section",[t("h2",{staticClass:"sub-title"},[this._v("서점 정보")]),t("section",{staticClass:"sub-container"},[t("Info")],1)])}),[],!1,null,"7d2a9418",null);s.default=h.exports},cc0a:function(t,s,i){"use strict";i("4809")},dfe2:function(t,s,i){"use strict";var e={components:{modalWrap:i("7402").a},data:()=>({zip:"",addr1:"",sido:"",sigungu:"",bname:""}),watch:{zip(){this.$attrs.updateZip({zip:this.zip,addr1:this.addr1,sido:this.sido,sigungu:this.sigungu,dong:this.bname}),this.$emit("close")}},mounted(){this.showApi()},methods:{showApi(){new window.daum.Postcode({width:"100%",oncomplete:t=>{let s=t.roadAddress,i="";""!==t.bname&&/[동|로|가]$/g.test(t.bname)&&(i+=t.bname),""!==t.buildingName&&"Y"===t.apartment&&(i+=""!==i?", "+t.buildingName:t.buildingName),""!==i&&(i=" ("+i+")"),""!==s&&(s+=i),this.zip=t.zonecode,this.addr1=s,this.sido=t.sido,this.sigungu=t.sigungu,this.bname=t.bname}}).embed(this.$refs.embed)},close(){this.$emit("close")}}},o=i("2877"),a=Object(o.a)(e,(function(){var t=this._self._c;return t("modalWrap",{on:{close:this.close}},[t("template",{slot:"head"},[t("h2",[this._v("주소찾기")])]),t("template",{slot:"body"},[t("div",{ref:"embed"})])],2)}),[],!1,null,null,null);s.a=a.exports}}]);