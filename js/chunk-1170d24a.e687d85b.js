(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1170d24a"],{"2f78":function(t,e,s){"use strict";s("e281")},4867:function(t,e,s){"use strict";s("bfa5")},5408:function(t,e,s){"use strict";s.r(e);var a=s("ad87"),r=(s("14d9"),s("2f62")),i=s("e71f"),c=s("e31c"),o=s("f3e4"),h=s("1592"),n={name:"OrderList",components:{TableSkeleton:s("78c6").a},props:["searchObj"],data:()=>({books:[],result:[],searchResult:[]}),computed:{...Object(r.b)("common",["skeletonLoading"])},watch:{searchObj(){this.search()}},async created(){try{this.$store.commit("common/setSkeleton",!0);const{uid:t}=Object(o.b)("userInfo"),e=Object(i.i)(Object(i.b)(c.b,"orderRequest"),Object(i.n)("uid","==",t),Object(i.h)("order_time_id","desc"));(await Object(i.e)(e)).forEach(t=>{const e=t.data();e.timestamp=this.$date(t.data().order_time.toDate()).format("YYYY-MM-DD HH:mm:ss"),e.searchTimestamp=this.$date(t.data().order_time.toDate()).format("YYYY-MM-DD"),e.count=parseInt(e.count),null===t.data().reply_time?e.replytimestamp="-":e.replytimestamp=this.$date(t.data().reply_time.toDate()).format("YYYY-MM-DD HH:mm:ss"),this.books.push(e)}),this.result=Object(h.a)(this.books),this.searchResult=this.searchResult.concat(this.result)}catch(t){console.log(t)}this.$store.commit("common/setSkeleton",!1)},methods:{search(){this.result=this.searchResult.filter(t=>{if(""===this.searchObj.publisher&&void 0===this.searchObj.startDate)return t;if(""===this.searchObj.publisher&&void 0!==this.searchObj.startDate){if(t.searchTimestamp>=this.searchObj.startDate&&t.searchTimestamp<=this.searchObj.endDate)return t}else if(""!==this.searchObj.publisher&&t.publisher.includes(this.searchObj.publisher)){if(void 0===this.searchObj.startDate)return t;if(t.searchTimestamp>=this.searchObj.startDate&&t.searchTimestamp<=this.searchObj.endDate)return t}})},statement(t){this.$router.push(`/OrderResult/${t.id}/${t.date}/${t.orderTimeId}/${t.publisher}`)}}},u=(s("4867"),s("2877")),l=Object(u.a)(n,(function(){var t=this,e=t._self._c;return e("section",[t.skeletonLoading?e("TableSkeleton"):e("div",[e("table",{staticClass:"basic"},[e("caption",[t._v("\n        출판사별 주문리스트\n      ")]),e("thead",[e("tr",[e("th",[t._v("출판사")]),e("th",[t._v("수량")]),e("th",[t._v("상태")]),e("th",[t._v("발신일시")]),e("th",[t._v("회신일시")])])]),e("tbody",t._l(t.result,(function(s,a){return e("tr",{key:a,on:{click:function(e){return t.statement({id:s.sid,date:s.timestamp,orderTimeId:s.order_time_id,publisher:s.publisher})}}},[e("td",[t._v(t._s(s.publisher))]),e("td",[0===s.shop_order_status?e("span",[t._v(t._s(s.count))]):1===s.shop_order_status?e("span",[t._v(t._s(s.reply_count))]):e("span",[t._v(t._s(s.totalCount))])]),e("td",[t._v(t._s(0===s.shop_order_status?"회신 전":1===s.shop_order_status?"회신":"발주"))]),e("td",[t._v(t._s(s.timestamp))]),e("td",[t._v(t._s(s.replytimestamp))])])})),0),0===t.result.length?e("tfoot",[e("tr",[e("td",{attrs:{colspan:"5"}},[t._v("주문 리스트가 없습니다.")])])]):t._e()])])],1)}),[],!1,null,"5c4b6419",null).exports,d={components:{SearchDateRangeGroup:a.a,OrderList:l},data:()=>({itemList:[{item:"출판사",value:"publisher"}],searchObj:{}}),methods:{search(t){this.searchObj=t}}},m=(s("2f78"),Object(u.a)(d,(function(){var t=this._self._c;return t("section",[t("h2",{staticClass:"sub-title"},[this._v("주문 목록 보기")]),t("section",{staticClass:"sub-container"},[t("h3",[this._v("출판사별 주문 리스트")]),t("section",{staticClass:"mt10"},[t("SearchDateRangeGroup",{attrs:{itemList:this.itemList},on:{search:this.search}})],1),t("section",{staticClass:"mt30"},[t("OrderList",{attrs:{searchObj:this.searchObj}})],1)])])}),[],!1,null,"3228c99a",null));e.default=m.exports},bfa5:function(t,e,s){},e281:function(t,e,s){}}]);