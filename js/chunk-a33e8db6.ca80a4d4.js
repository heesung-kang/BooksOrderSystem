(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a33e8db6"],{"0462":function(t,e,a){"use strict";a("f522")},"130c":function(t,e,a){},2698:function(t,e,a){},"2ce3":function(t,e,a){"use strict";a("130c")},a05a:function(t,e,a){"use strict";var s=a("b974"),i={props:["itemList"],data:()=>({select:""}),mounted(){this.select=this.itemList[0].value}},r=(a("df9f"),a("2877")),n=Object(r.a)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"selects"},[e(s.a,{attrs:{dense:"",items:t.itemList,"item-text":"item","item-value":"value",outlined:""},on:{input:function(e){return t.$emit("change",t.select)}},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1)}),[],!1,null,"7b5afd12",null);e.a=n.exports},a4c4:function(t,e,a){},ad87:function(t,e,a){"use strict";var s=a("a05a"),i=a("8336"),r=a("2e4b"),n=a("169a"),l=a("2fa4"),c=a("8654"),o={props:["clear"],data:()=>({date:"",visible:!1,pickerDate:null,modal:!1,placeholder:"2022/11/11"}),watch:{date(t){this.$emit("updateDate",t)},clear(t,e){t!==e&&(this.date="")},pickerDate(){this.hangleDelete()}},mounted(){this.placeholder=this.$date().format("YYYY-MM-DD"),this.$nextTick((function(){null===this.defaultValue&&""===this.defaultValue||(this.date=this.defaultValue)}))},methods:{hangleDelete(){let t=setTimeout((function(){document.querySelectorAll(".v-date-picker-table .v-btn__content").forEach(t=>{t.textContent=t.textContent.replace("일","")}),clearInterval(t)}),100)}}},u=(a("2ce3"),a("2877")),d=Object(u.a)(o,(function(){var t=this,e=t._self._c;return e(n.a,{ref:"dialog",attrs:{"return-value":t.date,persistent:"",width:"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(c.a,t._g(t._b({attrs:{readonly:"",placeholder:t.placeholder},on:{click:t.hangleDelete},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",s,!1),a))]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[e(r.a,{attrs:{scrollable:"",locale:"ko","picker-date":t.pickerDate},on:{"update:pickerDate":function(e){t.pickerDate=e},"update:picker-date":function(e){t.pickerDate=e}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[e(l.a),e(i.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.modal=!1}}},[t._v(" 취소 ")]),e(i.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dialog.save(t.date)}}},[t._v(" 설정 ")])],1)],1)}),[],!1,null,null,null).exports,h={name:"SearchDateRangeGroup",components:{Selects:s.a,DatePicker:d},props:["itemList"],data:()=>({startDate:"",endDate:"",publisher:"",clear:!1}),methods:{search(){void 0!==this.startDate||void 0===this.endDate?void 0===this.startDate||void 0!==this.endDate?void 0!==this.startDate&&void 0!==this.endDate&&this.startDate>this.endDate?alert("종료일이 시작일보다 빠릅니다. 시작일을 다시 입력해주세요"):this.$emit("search",{publisher:this.publisher,startDate:this.startDate,endDate:this.endDate}):alert("종료일을 입력해주세요"):alert("시작일을 입력해주세요")},setStartDate(t){this.startDate=t},setEndDate(t){this.endDate=t}}},p=(a("0462"),Object(u.a)(h,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"search-header d-flex align-center"},[e("span",{staticClass:"d-flex align-center select-wrap"},[e("Selects",{attrs:{itemList:t.itemList}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.publisher,expression:"publisher"}],staticClass:"basic",attrs:{type:"text"},domProps:{value:t.publisher},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)},input:function(e){e.target.composing||(t.publisher=e.target.value)}}})],1),e("span",{staticClass:"d-flex align-center date-wrap"},[e("span",{staticClass:"date-picker mobile-margin"},[e("DatePicker",{attrs:{clear:t.clear},on:{updateDate:t.setStartDate}})],1),e("span",{staticClass:"to"},[t._v("To")]),e("span",{staticClass:"date-picker"},[e("DatePicker",{attrs:{clear:t.clear},on:{updateDate:t.setEndDate}})],1),e("button",{staticClass:"basic btn",on:{click:t.search}},[t._v("검색")])])])}),[],!1,null,"ff67d3fe",null));e.a=p.exports},df9f:function(t,e,a){"use strict";a("2698")},f522:function(t,e,a){},f5f2:function(t,e,a){"use strict";a("14d9");var s=a("2f62"),i=a("e71f"),r=a("e31c"),n=a("f3e4");function l(t,e){for(let a=0;a<t.length;a++)if(t[a].publisher===e.publisher&&t[a].timestamp===e.timestamp)return a;return-1}var c=a("3129"),o={name:"TableSkeleton"},u=a("2877"),d={name:"OrderList",components:{TableSkeleton:Object(u.a)(o,(function(){return(0,this._self._c)(c.a,{attrs:{type:"table-thead, table-tbody",types:{"table-tbody":"table-row-divider@3","table-row":"table-cell@3","table-thead":"heading@3"}}})}),[],!1,null,"1c06d3ce",null).exports},props:["subject1","subject2","searchObj"],data:()=>({books:[],result:[],searchResult:[]}),computed:{...Object(s.b)("common",["skeletonLoading"])},watch:{searchObj(){this.search()}},async created(){try{this.$store.commit("common/setSkeleton",!0);const{uid:t}=Object(n.b)("userInfo"),e=Object(i.h)(Object(i.b)(r.b,"orderRequest"),Object(i.l)("uid","==",t));(await Object(i.e)(e)).forEach(t=>{const e=t.data();e.timestamp=this.$date(t.data().order_time.toDate()).format("YYYY-MM-DD HH:mm:ss"),"-"===t.data().reply_time?e.replytimestamp="-":e.replytimestamp=this.$date(t.data().reply_time.toDate()).format("YYYY-MM-DD HH:mm:ss"),this.books.push(e)}),this.result=function(t){const e=[];for(let a=0;a<t.length;a++){let s=l(e,t[a]);s>-1?e[s].count+=Number(t[a].count):e.push(t[a])}return e}(this.books),this.searchResult=this.searchResult.concat(this.result)}catch(t){console.log(t)}this.$store.commit("common/setSkeleton",!1)},methods:{search(){this.result=this.searchResult.filter(t=>{if(""===this.searchObj.publisher&&void 0===this.searchObj.startDate)return t;if(""===this.searchObj.publisher&&void 0!==this.searchObj.startDate){if(t.timestamp>=this.searchObj.startDate&&t.timestamp<=this.searchObj.endDate)return t}else if(""!==this.searchObj.publisher&&t.publisher.includes(this.searchObj.publisher)){if(void 0===this.searchObj.startDate)return t;if(t.timestamp>=this.searchObj.startDate&&t.timestamp<=this.searchObj.endDate)return t}})},statement(t){this.$router.push(`/OrderResult/${t.id}/${t.date}/${t.orderTimeId}/${t.publisher}`)}}},h=(a("ff02"),Object(u.a)(d,(function(){var t=this,e=t._self._c;return e("section",[t.skeletonLoading?e("TableSkeleton"):e("div",[e("table",{staticClass:"basic"},[e("caption",[t._v("\n        출판사별 주문리스트\n      ")]),e("thead",[e("tr",[e("th",[t._v("출판사")]),e("th",[t._v("수량")]),e("th",[t._v("상태")]),e("th",[t._v(t._s(t.subject1))]),e("th",[t._v(t._s(t.subject2))])])]),e("tbody",t._l(t.result,(function(a,s){return e("tr",{key:s,on:{click:function(e){return t.statement({id:a.sid,date:a.timestamp,orderTimeId:a.order_time_id,publisher:a.publisher})}}},[e("td",[t._v(t._s(a.publisher))]),e("td",[t._v(t._s(a.count))]),e("td",[t._v(t._s(0===a.shop_order_status?"회신 전":1===a.shop_order_status?"회신":"발주"))]),e("td",[t._v(t._s(a.timestamp))]),e("td",[t._v(t._s(a.replytimestamp))])])})),0),0===t.result.length?e("tfoot",[e("tr",[e("td",{attrs:{colspan:"5"}},[t._v("주문 리스트가 없습니다.")])])]):t._e()])])],1)}),[],!1,null,"220bf50b",null));e.a=h.exports},ff02:function(t,e,a){"use strict";a("a4c4")}}]);