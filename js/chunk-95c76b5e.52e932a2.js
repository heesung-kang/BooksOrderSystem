(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-95c76b5e"],{"07da":function(t,a,s){"use strict";s("584f")},"1f0b":function(t,a,s){"use strict";var e=s("3129"),i={name:"BookListMobileSkeleton"},c=(s("f412"),s("2877")),o=Object(c.a)(i,(function(){var t=this._self._c;return t("div",[t("ul",[t("li",[t("section",{staticClass:"skeleton-book-list"},[t("div",{staticClass:"img"},[t(e.a,{attrs:{type:"list-item-avatar-two-line"}}),t(e.a,{attrs:{type:"text"}}),t(e.a,{attrs:{type:"text"}}),t(e.a,{attrs:{type:"text"}}),t(e.a,{attrs:{type:"text"}}),t(e.a,{attrs:{type:"text"}})],1)])]),t("li",[t("section",{staticClass:"skeleton-book-list"},[t("div",{staticClass:"img"},[t(e.a,{attrs:{type:"list-item-avatar-two-line"}}),t(e.a,{attrs:{type:"text"}}),t(e.a,{attrs:{type:"text"}}),t(e.a,{attrs:{type:"text"}}),t(e.a,{attrs:{type:"text"}}),t(e.a,{attrs:{type:"text"}})],1)])]),t("li",[t("section",{staticClass:"skeleton-book-list"},[t("div",{staticClass:"img"},[t(e.a,{attrs:{type:"list-item-avatar-two-line"}}),t(e.a,{attrs:{type:"text"}}),t(e.a,{attrs:{type:"text"}}),t(e.a,{attrs:{type:"text"}}),t(e.a,{attrs:{type:"text"}}),t(e.a,{attrs:{type:"text"}})],1)])]),t("li",[t("section",{staticClass:"skeleton-book-list"},[t("div",{staticClass:"img"},[t(e.a,{attrs:{type:"list-item-avatar-two-line"}}),t(e.a,{attrs:{type:"text"}}),t(e.a,{attrs:{type:"text"}}),t(e.a,{attrs:{type:"text"}}),t(e.a,{attrs:{type:"text"}}),t(e.a,{attrs:{type:"text"}})],1)])]),t("li",[t("section",{staticClass:"skeleton-book-list"},[t("div",{staticClass:"img"},[t(e.a,{attrs:{type:"list-item-avatar-two-line"}}),t(e.a,{attrs:{type:"text"}}),t(e.a,{attrs:{type:"text"}}),t(e.a,{attrs:{type:"text"}}),t(e.a,{attrs:{type:"text"}}),t(e.a,{attrs:{type:"text"}})],1)])])])])}),[],!1,null,"975c769e",null);a.a=o.exports},"3a13":function(t,a,s){},4809:function(t,a,s){},"584f":function(t,a,s){},"68e0":function(t,a,s){"use strict";s.d(a,"a",(function(){return e}));const e=function(t,a,s,e){return{name:t,width:a,height:s,resizable:e,clickToClose:!1,draggable:".popup-title",scrollable:!0}}},"691b":function(t,a,s){"use strict";var e=s("3129"),i={name:"BookListSkeleton"},c=(s("b57b"),s("2877")),o=Object(c.a)(i,(function(){var t=this._self._c;return t("div",[t("ul",[t("li",[t("section",{staticClass:"d-flex align-center justify-space-between skeleton-book-list"},[t("div",{staticClass:"img"},[t(e.a,{attrs:{type:"list-item-avatar-two-line"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1)])]),t("li",[t("section",{staticClass:"d-flex align-center justify-space-between skeleton-book-list"},[t("div",{staticClass:"img"},[t(e.a,{attrs:{type:"list-item-avatar-two-line"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1)])]),t("li",[t("section",{staticClass:"d-flex align-center justify-space-between skeleton-book-list"},[t("div",{staticClass:"img"},[t(e.a,{attrs:{type:"list-item-avatar-two-line"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1)])]),t("li",[t("section",{staticClass:"d-flex align-center justify-space-between skeleton-book-list"},[t("div",{staticClass:"img"},[t(e.a,{attrs:{type:"list-item-avatar-two-line"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1)])]),t("li",[t("section",{staticClass:"d-flex align-center justify-space-between skeleton-book-list"},[t("div",{staticClass:"img"},[t(e.a,{attrs:{type:"list-item-avatar-two-line"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1),t("div",{staticClass:"text"},[t(e.a,{attrs:{type:"text"}})],1)])])])])}),[],!1,null,"d8eeb990",null);a.a=o.exports},7402:function(t,a,s){"use strict";var e=s("132d"),i={methods:{close(){this.$emit("close")}}},c=(s("cc0a"),s("2877")),o=Object(c.a)(i,(function(){var t=this._self._c;return t("div",{staticClass:"modal-wrap"},[t("div",{staticClass:"close",on:{click:this.close}},[t(e.a,[this._v("mdi-window-close")])],1),this._t("head"),t("div",{staticClass:"line"}),t("div",{staticClass:"body"},[this._t("body")],2),this._t("footer")],2)}),[],!1,null,"1c84da6b",null);a.a=o.exports},b1b3:function(t,a,s){"use strict";s("3a13")},b57b:function(t,a,s){"use strict";s("da01")},c228:function(t,a,s){"use strict";s.r(a);s("14d9");var e=s("2f62"),i=s("e71f"),c=s("e31c"),o=s("f3e4"),l=s("68e0"),n=s("691b"),r=s("1f0b"),d=s("f579"),u=s.n(d),v={components:{modalWrap:s("7402").a,barcode:u.a},data:()=>({barcode:"9791130692791"}),methods:{close(){this.$emit("close")}}},p=(s("b1b3"),s("2877")),b=Object(p.a)(v,(function(){var t=this._self._c;return t("modalWrap",{on:{close:this.close}},[t("template",{slot:"head"},[t("h2",[this._v("주문서")])]),t("template",{slot:"body"},[t("div",[this._v("\n      주문서가 출판사에 전송되었습니다."),t("br"),this._v('\n      "주문 내역"에서 회신 확인 후 결제 해 주세요\n    ')]),t("div",[t("button",{staticClass:"basic"},[this._v("확인")])])])],2)}),[],!1,null,"89c4c516",null).exports,m={components:{BookListSkeleton:n.a,BookListMobileSkeleton:r.a},data:()=>({cart:[]}),computed:{...Object(e.b)("common",["windowWidth","mobile","skeletonLoading"]),bookCount(){let t=0;return this.cart.forEach(a=>t+=Number(a.data.count)),t},totalPrice(){let t=0;return this.cart.forEach(a=>{t+=a.data.price*a.data.supply_rate*a.data.count/100}),t}},created(){this.load()},methods:{showModal(){confirm("수량을 변경했을 경우 '저장'버튼을 클릭해 주셔야 반영이 됩니다.")?this.mobile?this.$modal.show(b,{},Object(l.a)("ModalCart","95%","auto",!1)):this.$modal.show(b,{},Object(l.a)("ModalCart","500px","auto",!1)):console.log("취소")},async load(){this.cart=[];try{const{uid:t}=Object(o.b)("userInfo");this.$store.commit("common/setSkeleton",!0);const a=Object(i.h)(Object(i.b)(c.b,"cart-"+t));(await Object(i.e)(a)).forEach(t=>{console.log(t.data()),this.cart.push({id:t.id,data:t.data()})})}catch(t){console.error("Error adding document: ",t)}this.$store.commit("common/setSkeleton",!1)},async update(t,a){try{const{uid:s}=Object(o.b)("userInfo");this.$store.commit("common/setLoading",!0),await Object(i.j)(Object(i.d)(c.b,"cart-"+s,t),{count:a}),alert("수량이 변경 되었습니다")}catch(t){console.error("Error adding document: ",t)}this.$store.commit("common/setLoading",!1)},async del(t){try{const{uid:a}=Object(o.b)("userInfo");this.$store.commit("common/setLoading",!0),await Object(i.c)(Object(i.d)(c.b,"cart-"+a,t)),alert("삭제 되었습니다"),await this.load()}catch(t){console.error("Error adding document: ",t)}this.$store.commit("common/setLoading",!1)},async order(){}}},x=(s("07da"),{components:{CartList:Object(p.a)(m,(function(){var t=this,a=t._self._c;return a("section",[t.skeletonLoading&&!t.mobile?a("BookListSkeleton",{staticClass:"mt14"}):t._e(),t.skeletonLoading&&t.mobile?a("BookListMobileSkeleton",{staticClass:"mt14"}):t._e(),t.cart.length>0?a("div",[t.skeletonLoading?t._e():a("section",[t.mobile?t._e():a("article",{staticClass:"cart-header"},[a("div",[t._v("품목정보")]),a("div",[t._v("출판사")]),a("div",[t._v("ISBN")]),t._m(0),a("div",[t._v("공급가")]),a("div",[t._v("수량")]),a("div")]),a("article",{staticClass:"cart-list"},[a("ul",t._l(t.cart,(function(s,e){return a("li",{key:s.isbn},[a("article",{staticClass:"d-flex align-center"},[a("div",{staticClass:"d-flex align-center thumbnail-wrap"},[a("div",{staticClass:"basic-info"},[a("div",{staticClass:"book-name"},[t._v(t._s(s.data.subject))]),a("div",{staticClass:"only-mobile"},[a("div",{staticClass:"author"},[t._v(t._s(s.data.author))]),t.mobile?a("div",{staticClass:"company"},[t._v(t._s(s.data.publisher))]):t._e()])])]),t.mobile?t._e():a("div",[t._v(t._s(s.data.publisher))]),a("div",{staticClass:"isbn"},[t._v(t._s(s.data.isbn))]),a("div",{staticClass:"price-etc"},[a("div",{staticClass:"normal-price"},[t.mobile?a("span",[t._v("정가")]):t._e(),t._v(" "+t._s(s.data.price&&s.data.price.toLocaleString())+"원")]),a("div",{staticClass:"rate"},[t.mobile?a("span",[t._v("공급률")]):t._e(),t._v(" "+t._s(s.data.supply_rate)+"%")])]),a("div",{staticClass:"price"},[t.mobile?a("span",[t._v("공급가")]):t._e(),t._v(t._s(s.data.price&&(s.data.price*s.data.supply_rate*s.data.count/100).toLocaleString())+"원\n              ")]),a("div",{staticClass:"btn"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cart[e].data.count,expression:"cart[index].data.count"}],staticClass:"basic",attrs:{type:"number"},domProps:{value:t.cart[e].data.count},on:{input:function(a){a.target.composing||t.$set(t.cart[e].data,"count",a.target.value)}}})]),a("div",{staticClass:"status"},[a("button",{staticClass:"basic",on:{click:function(a){return t.update(s.id,t.cart[e].data.count)}}},[t._v("저장")]),a("button",{staticClass:"basic",on:{click:function(a){return t.del(s.id)}}},[t._v("삭제")])])])])})),0)])]),a("section",{staticClass:"total-wrap mt24"},[a("div",[a("span",{staticClass:"total-prod"},[t._v("총 "+t._s(t.bookCount)+"권")]),a("span",{staticClass:"total"},[t._v("합계 "+t._s(t.totalPrice.toLocaleString())+"원")])]),a("button",{staticClass:"primary",on:{click:t.showModal}},[t._v("주문")])])]):t._e(),t.skeletonLoading||0!==t.cart.length?t._e():a("div",{staticClass:"alert"},[t._v("장바구니가 비었습니다.")])],1)}),[function(){var t=this._self._c;return t("div",[t("div",[this._v("정가")]),t("div",[this._v("공급률")])])}],!1,null,"1a189b6d",null).exports}}),C=Object(p.a)(x,(function(){var t=this._self._c;return t("section",[t("h2",{staticClass:"sub-title"},[this._v("장바구니")]),t("section",{staticClass:"sub-container"},[t("CartList")],1)])}),[],!1,null,null,null);a.default=C.exports},c2fe:function(t,a,s){},cc0a:function(t,a,s){"use strict";s("4809")},da01:function(t,a,s){},f412:function(t,a,s){"use strict";s("c2fe")}}]);