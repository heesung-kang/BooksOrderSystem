(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-22a5aabe"],{"1a22":function(s,t,a){s.exports=a.p+"img/toast_check.8494ca51.svg"},2826:function(s,t,a){},"2bb3":function(s,t,a){"use strict";a.r(t);a("14d9");var e=a("dfe2"),i=a("68e0"),o=a("2f62"),d=a("ea7b"),n=a("e71f"),c=a("e31c"),r=a("78dc");const l=Object(d.c)(c.a);var h={name:"SignUp",components:{Toast:r.a},data:()=>({email:"",password:"",shop:"",zip:"",address1:"",address2:"",publishers:[],message:"",status:!1}),computed:{...Object(o.b)("common",["mobile"])},async created(){try{const s=Object(n.k)(Object(n.b)(c.b,"publisherInfo"));(await Object(n.g)(s)).forEach(s=>{this.publishers.push({id:s.id,data:s.data()})})}catch(s){console.log(s)}},methods:{userRegistration(){if(""===this.shop)return this.status=!this.status,void(this.message="서점명을 입력해주세요.");if(""===this.email)return this.status=!this.status,void(this.message="이메일을 입력해주세요.");if(""===this.password)return this.status=!this.status,void(this.message="비밀번호를 입력해주세요.");if(""===this.address1)return this.status=!this.status,void(this.message="주소를 입력해주세요.");if(""===this.address2)return this.status=!this.status,void(this.message="주소를 입력해주세요.");try{this.$store.commit("common/setLoading",!0),Object(d.b)(l,this.email,this.password).then(()=>{Object(d.i)(Object(d.c)().currentUser,{displayName:this.shop+"-3"}).then(()=>{this.addInfo()}).catch(s=>{this.status=!this.status,this.message=s.message,this.$store.commit("common/setLoading",!1)})}).catch(s=>{this.status=!this.status,this.message=s.message,this.$store.commit("common/setLoading",!1)})}catch(s){console.log(s),this.$store.commit("common/setLoading",!1)}},async addInfo(){try{await Object(d.f)(l,this.email,this.password).then(async s=>{const{uid:t}=s.user,a=[],e=[];this.publishers.forEach(s=>{a.push({sid:s.data.sid,rate:""}),e.push({sid:s.data.sid,payType:0})}),await Object(n.m)(Object(n.d)(c.b,"shopInfo",t),{email:this.email,shop:this.shop,zip:this.zip,address1:this.address1,address2:this.address2,timestamp:Object(n.l)(),shopRate:a,bookRate:[],payType:e}),this.$store.commit("common/setLoading",!1),this.status=!this.status,this.message="정상 가입 되셨습니다.",this.$router.push("/Login")}).catch(s=>{console.log(s),this.$store.commit("common/setLoading",!1)})}catch(s){console.log(s),this.$store.commit("common/setLoading",!1)}},showAddressModalPopup(){this.mobile?this.$modal.show(e.a,{updateZip:this.updateZip},Object(i.a)("AddressModal","95%","auto",!1)):this.$modal.show(e.a,{updateZip:this.updateZip},Object(i.a)("AddressModal","600px","auto",!1))},updateZip(s){this.address1=s.addr1,this.zip=s.zip}}},u=(a("ad43"),a("2877")),m=Object(u.a)(h,(function(){var s=this,t=s._self._c;return t("div",{staticClass:"login-container"},[t("div",{staticClass:"wrap"},[t("h1",[s._v("서점 회원가입")]),t("div",{staticClass:"mt10"},[s._v("서점명 : "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.shop,expression:"shop"}],staticClass:"basic",attrs:{placeholder:"서점명",type:"text"},domProps:{value:s.shop},on:{input:function(t){t.target.composing||(s.shop=t.target.value)}}})]),t("div",{staticClass:"mt5"},[s._v("ID : "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"email"}],staticClass:"basic",attrs:{placeholder:"이메일 입력",type:"text"},domProps:{value:s.email},on:{input:function(t){t.target.composing||(s.email=t.target.value)}}})]),t("div",{staticClass:"mt5"},[s._v("PW : "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"basic",attrs:{placeholder:"비밀번호는 6자리이상 입력",type:"password"},domProps:{value:s.password},on:{input:function(t){t.target.composing||(s.password=t.target.value)}}})]),t("div",{staticClass:"mt10 d-flex align-center"},[s._v("\n      주소 : "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.zip,expression:"zip"}],staticClass:"basic zip",attrs:{placeholder:"우편번호",type:"text",readonly:""},domProps:{value:s.zip},on:{input:function(t){t.target.composing||(s.zip=t.target.value)}}}),t("button",{staticClass:"btn-zip",on:{click:s.showAddressModalPopup}},[s._v("주소 찾기")])]),t("div",{staticClass:"mt2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.address1,expression:"address1"}],staticClass:"basic",attrs:{type:"text",readonly:""},domProps:{value:s.address1},on:{input:function(t){t.target.composing||(s.address1=t.target.value)}}})]),t("div",{staticClass:"mt2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.address2,expression:"address2"}],staticClass:"basic",attrs:{placeholder:"나머지주소",type:"text"},domProps:{value:s.address2},on:{input:function(t){t.target.composing||(s.address2=t.target.value)}}})]),t("div",{staticClass:"btn-wrap"},[t("button",{on:{click:s.userRegistration}},[s._v("가입")]),t("router-link",{staticClass:"login",attrs:{to:"/login"}},[s._v("로그인")])],1)]),t("Toast",{attrs:{status:s.status,message:s.message}})],1)}),[],!1,null,"60bd8df8",null);t.default=m.exports},3284:function(s,t,a){"use strict";a("5a51")},4809:function(s,t,a){},"5a51":function(s,t,a){},"68e0":function(s,t,a){"use strict";a.d(t,"a",(function(){return e}));const e=function(s,t,a,e){return{name:s,width:t,height:a,resizable:e,clickToClose:!1,draggable:".popup-title",scrollable:!0}}},"704c":function(s,t,a){s.exports=a.p+"img/cart_xs.3d6bd69d.svg"},7402:function(s,t,a){"use strict";var e=a("132d"),i={methods:{close(){this.$emit("close")}}},o=(a("cc0a"),a("2877")),d=Object(o.a)(i,(function(){var s=this._self._c;return s("div",{staticClass:"modal-wrap"},[s("div",{staticClass:"close",on:{click:this.close}},[s(e.a,[this._v("mdi-window-close")])],1),this._t("head"),s("div",{staticClass:"line"}),s("div",{staticClass:"body"},[this._t("body")],2),this._t("footer")],2)}),[],!1,null,"1c84da6b",null);t.a=d.exports},"78dc":function(s,t,a){"use strict";var e=[function(){var s=this._self._c;return s("div",{staticClass:"mr24"},[s("img",{attrs:{src:a("1a22"),alt:""}})])}],i={name:"Toast",props:["status","message","withBtn"],data:()=>({isActive:!1,wrap:"toastWrap"}),watch:{status(){this.handleVisible()}},methods:{handleVisible(){this.isActive=!0,setTimeout(()=>{this.isActive=!1},2e3)}}},o=(a("3284"),a("2877")),d=Object(o.a)(i,(function(){var s=this._self._c;return s("section",{class:[{active:this.isActive},this.wrap]},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"d-flex message-wrap"},[this._m(0),s("div",{staticClass:"message",domProps:{innerHTML:this._s(this.message)}})]),this.withBtn?s("div",{staticClass:"mt10 right"},[s("router-link",{staticClass:"btn",attrs:{to:"/Cart"}},[s("span",[s("img",{attrs:{src:a("704c"),alt:""}})]),s("span",{staticClass:"ml5"},[this._v("바로가기")])])],1):this._e()])])}),e,!1,null,"19bb7941",null);t.a=d.exports},ad43:function(s,t,a){"use strict";a("2826")},cc0a:function(s,t,a){"use strict";a("4809")},dfe2:function(s,t,a){"use strict";var e={components:{modalWrap:a("7402").a},data:()=>({zip:"",addr1:"",sido:"",sigungu:"",bname:""}),watch:{zip(){this.$attrs.updateZip({zip:this.zip,addr1:this.addr1,sido:this.sido,sigungu:this.sigungu,dong:this.bname}),this.$emit("close")}},mounted(){this.showApi()},methods:{showApi(){new window.daum.Postcode({width:"100%",oncomplete:s=>{let t=s.roadAddress,a="";""!==s.bname&&/[동|로|가]$/g.test(s.bname)&&(a+=s.bname),""!==s.buildingName&&"Y"===s.apartment&&(a+=""!==a?", "+s.buildingName:s.buildingName),""!==a&&(a=" ("+a+")"),""!==t&&(t+=a),this.zip=s.zonecode,this.addr1=t,this.sido=s.sido,this.sigungu=s.sigungu,this.bname=s.bname}}).embed(this.$refs.embed)},close(){this.$emit("close")}}},i=a("2877"),o=Object(i.a)(e,(function(){var s=this._self._c;return s("modalWrap",{on:{close:this.close}},[s("template",{slot:"head"},[s("h2",[this._v("주소찾기")])]),s("template",{slot:"body"},[s("div",{ref:"embed"})])],2)}),[],!1,null,null,null);t.a=o.exports}}]);